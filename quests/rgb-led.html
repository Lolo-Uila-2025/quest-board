<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Story Quest: RGB LED Colors</title>
  <link rel="stylesheet" href="../style.css" />
  <style>
    /* Optional image styling */
    figure.illustration {
      margin: 16px auto;
      text-align: left;
    }
    figure.illustration img {
      max-width: 100%;
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    figure.illustration figcaption {
      font-size: 0.85rem;
      color: #666;
      margin-top: 4px;
    }
  </style>
</head>
<body>
  <a href="../quests.html" class="back-link">‚Üê Back to Quest Board</a>

  <h1>Story Quest: RGB LED Colors</h1>

  <p>
    In this quest, you‚Äôll control the Red, Green, and Blue channels of an RGB LED using PWM pins on the Arduino.
    By changing how bright each channel is, you can mix and create new colors.
  </p>

  <h2>Required Components</h2>
  <ul>
    <li>Arduino board</li>
    <li>RGB LED</li>
    <li>3 resistors (220Œ©)</li>
    <li>Breadboard & jumper wires</li>
  </ul>

  <figure class="illustration">
    <img src="../images/rgb.png" alt="Potentiometer connected to Arduino">
    <figcaption>Wiring Setup of the RBG LED</figcaption>
  </figure>

  <h2>Wiring Instructions</h2>
  <ol>
    <li>Connect the longest leg (common cathode) to <strong>GND</strong>.</li>
    <li>Connect the Red leg to a 220Œ© resistor ‚Üí <strong>pin 9</strong>.</li>
    <li>Connect the Green leg to a 220Œ© resistor ‚Üí <strong>pin 10</strong>.</li>
    <li>Connect the Blue leg to a 220Œ© resistor ‚Üí <strong>pin 11</strong>.</li>
    <li>Make sure all color legs go through their own resistor!</li>
  </ol>

  <h2>Code Setup</h2>
  <p>We‚Äôll use <code>analogWrite()</code> to control brightness of each color (0 = off, 255 = max).</p>

  <h3>1. Set Up the Pins</h3>
  <pre><code>
void setup() {
  pinMode(9, OUTPUT);
  pinMode(10, OUTPUT);
  pinMode(11, OUTPUT);
}
  </code></pre>

  <h3>2. Write a Color</h3>
  <pre><code>
void loop() {
  analogWrite(9, 255);  // Red
  analogWrite(10, 0);   // Green
  analogWrite(11, 255); // Blue
}
  </code></pre>

  <p>This example makes purple by mixing red and blue.</p>

  <h2>üéØ Goal</h2>
  <p>Create at least 3 different visible colors by changing the values sent to each color channel. Show it to earn <strong>+10 points</strong>!</p>

  <h2>üí° Hint: Use Variables for Pin Numbers</h2>
  <p>
    Instead of writing the pin numbers everywhere, try creating variables at the top of your code:
  </p>
  <pre><code>
const int redPin = 9;
const int greenPin = 10;
const int bluePin = 11;
  </code></pre>
  <p>
    Then use those in your code like this:
  </p>
  <pre><code>
analogWrite(redPin, 100);
analogWrite(greenPin, 50);
analogWrite(bluePin, 200);
  </code></pre>

  <h2>Bonus Points</h2>
  <p>
    Use <code>delay()</code> and a loop to make your LED change from one color to another back and forth (like christmas lights or police lights). Do this for <strong>+10 points!</strong>
  </p>

  <hr />

  <h2>Who‚Äôs already completed this quest?</h2>

  <h3>‚úÖ Completed + Bonus</h3>
  <ul id="completed-bonus-list"></ul>

  <h3>üü© Completed</h3>
  <ul id="completed-list"></ul>

  <h3>‚è≥ Not yet completed</h3>
  <ul id="pending-list"></ul>

  <script src="../data.js"></script>
  <script>
    const quest = quests.find(q => q.id === "rgb-led");
    const baseDone  = new Set(quest.completedBy);
    const bonusDone = new Set(quest.completedBonusBy || []);

    const bonusUL   = document.getElementById("completed-bonus-list");
    const baseUL    = document.getElementById("completed-list");
    const pendingUL = document.getElementById("pending-list");

    students.forEach(s => {
      const li = document.createElement("li");
      li.textContent = s.name;

      if (bonusDone.has(s.id)) {
        bonusUL.appendChild(li);
      } else if (baseDone.has(s.id)) {
        baseUL.appendChild(li);
      } else {
        pendingUL.appendChild(li);
      }
    });
  </script>
</body>
</html>
